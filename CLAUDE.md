# Claude Code Rules

このドキュメントは、AI（Claude）がこのプロジェクトで開発作業を行う際のルールとガイドラインです。

---

## AI-DLC（AI駆動開発ライフサイクル）の原則

このプロジェクトは AI-DLC の原則に従って開発を進めます。詳細は @docs/aidlc/AI_DLCとは.md を参照。

### 基本原則

1. **AIが実行し、人間が監視する**: AIが計画立案と実行を中心的に行い、人間は判断・意思決定に注力する
2. **会話の方向性の逆転**: AIが会話を開始し、人間に質問・提案を行う（人間がAIに指示するのではない）
3. **迅速なサイクル（Bolt）**: 時間または日単位で測定される迅速な開発サイクル
4. **損失関数としての人間**: 各ステップで人間が検証し、エラーを早期に捕捉・修正する

### 作業の進め方

1. **計画の提示**: AIはまず計画（Plan）を生成し、人間に提示する
2. **人間の検証**: 人間は計画をレビュー・検証・洗練する
3. **実行と報告**: AIが計画を実行し、結果を人間に報告する
4. **判断の委譲**: 重要な決定は必ず人間に委ねる

### 質問と提案

AIは以下の場合に人間に質問・提案を行う:

- 複数の実装方法がある場合のトレードオフ
- 設計上の重要な決定が必要な場合
- 不明確な要件の明確化が必要な場合
- リスクやセキュリティ上の懸念がある場合

### Issue 運用

Intent/Unit に対応する Issue を必ず作成し、実装可能な情報を含める。詳細は @docs/aidlc/Issue運用方針.md を参照。

## ドメイン駆動開発

**重要**: @docs/aidlc/inception/ドメインモデル.pu を必ず確認してください。

---

### 必須事項

1. **テストファースト（TDD）** → 実装の前にテストを書く
2. **ドメインモデル図との同期** → public メソッド・`index.ts` 変更時は ドメインモデル.pu を更新
3. **ビルドチェック** → PR 前に `npm run build` と `npm test` を実行
4. **商用品質** → 不要な要素の削除、適切な型定義、エラーハンドリング

---

このドキュメントは、Claude がプロジェクトで開発作業を行う際の「ナビゲーション」です。適切なタイミングで適切なガイドラインを参照してください。
